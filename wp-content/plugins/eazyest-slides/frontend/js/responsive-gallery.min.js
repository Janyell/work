(function(c){c.fn.imagesLoaded=function(b){function c(){b.call(k,e)}function f(){0>=--h&&this.src!==g&&(setTimeout(c),e.off("load error",f))}var e=this.find("img"),h=e.length,k=this,g="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";h||c();e.on("load error",f).each(function(){if(this.complete||void 0===this.complete){var c=this.src;this.src=g;this.src=c}});return this};var f=c("#rg-gallery-1"),e=f.find("div.es-carousel-wrapper"),h=e.find("ul > li"),k=h.length;Gallery=function(){var b= 0,l="carousel",m=!1,p=function(){e.show().elastislide({imageW:65,onClick:function(a){if(m)return!1;m=!0;b<a.index()?c(".rg-image").stop().animate({left:-980},300,function(){n(a);c(".rg-image").stop().css({left:"980px"}).animate({left:0},300)}):b>a.index()?c(".rg-image").stop().animate({left:980},300,function(){n(a);c(".rg-image").stop().css({left:"-980px"}).animate({left:0},300)}):n(a);b=a.index()}});e.elastislide("setCurrent",b)},r=function(){var a=c('<a href="#" class="rg-view-full"></a>'),b=c('<a href="#" class="rg-view-thumbs rg-view-selected"></a>'); f.prepend(c('<div class="rg-view"/>').append(a).append(b));a.on("click.rgGallery",function(c){"carousel"===l&&e.elastislide("destroy");e.hide();a.addClass("rg-view-selected");b.removeClass("rg-view-selected");l="fullview";return!1});b.on("click.rgGallery",function(c){p();b.addClass("rg-view-selected");a.removeClass("rg-view-selected");l="carousel";return!1});"fullview"===l&&a.trigger("click")},q=function(){c("#img-wrapper-tmpl").tmpl({itemsCount:k}).appendTo(f);if(1<k){var a=f.find("a.rg-image-nav-prev"), b=f.find("a.rg-image-nav-next"),d=f.find("div.rg-image");a.on("click.rgGallery",function(a){d.stop().animate({left:980},300,function(){g("left");d.stop().css({left:"-980px"}).animate({left:0},300)});return!1});b.on("click.rgGallery",function(a){d.stop().animate({left:-980},300,function(){g("right");d.stop().css({left:"980px"}).animate({left:0},300)});return!1});d.touchwipe({wipeLeft:function(){d.stop().animate({left:-980},300,function(){g("right");d.stop().css({left:"980px"}).animate({left:0},300)})}, wipeRight:function(){d.stop().animate({left:980},300,function(){g("left");d.stop().css({left:"-980px"}).animate({left:0},300)})},preventDefaultEvents:!1});c(document).on("keyup.rgGallery",function(a){39==a.keyCode?d.stop().animate({left:-980},300,function(){g("right");d.stop().css({left:"980px"}).animate({left:0},300)}):37==a.keyCode&&d.stop().animate({left:980},300,function(){g("left");d.stop().css({left:"-980px"}).animate({left:0},300)})})}},g=function(a){if(m)return!1;m=!0;"right"===a?b+1>=k?b= 0:++b:"left"===a&&(0>b-1?b=k-1:--b);n(h.eq(b))},n=function(a){var g=f.find("div.rg-loading").show();h.removeClass("selected");a.addClass("selected");a=a.find("img");var d=a.data("large"),k=a.data("description");c("<img/>").load(function(){f.find("div.rg-image").empty().append('<img src="'+d+'"/>');k&&f.find("div.rg-caption").show().children("p").empty().text(k);g.hide();"carousel"===l&&(e.elastislide("reload"),e.elastislide("setCurrent",b));m=!1}).attr("src",d)};return{init:function(){h.add('<img src="'+ eazyestResponsiveGallery.ajaxLoader+'"/><img src="'+eazyestResponsiveGallery.black+'"/>').imagesLoaded(function(){r();q();n(h.eq(b))});"carousel"===l&&p()},addItems:function(a){e.find("ul").append(a);h=h.add(c(a));k=h.length;e.elastislide("add",a)}}}();Gallery.init()})(jQuery);